(function(){var t,e,r,o,n,s,i=function(t,e){return function(){return t.apply(e,arguments)}},a={}.hasOwnProperty,c=[].indexOf||function(t){for(var e=0,r=this.length;r>e;e++)if(e in this&&this[e]===t)return e;return-1},p=function(t,e){function r(){this.constructor=t}for(var o in e)a.call(e,o)&&(t[o]=e[o]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};e=function(){function t(){this._ajax=i(this._ajax,this),this._upload=i(this._upload,this),this._post=i(this._post,this),this._delete=i(this._delete,this),this._get=i(this._get,this),this._getUrlPara=i(this._getUrlPara,this),this._serialize=i(this._serialize,this)}return t.prototype._hasProp={}.hasOwnProperty,t.prototype._extends=function(t,e){var r;e||(e={});for(r in e)a.call(e,r)&&(t[r]=e[r]);return t},t.prototype._defaultXHROptions=function(t,e){return{data:t,done:function(){return function(t){return e?e(JSON.parse(t)):void 0}}(this),fail:function(){return function(t){return e?e(JSON.parse(t)):void 0}}(this)}},t.prototype._serialize=function(t){var e,r,o;if(e="","object"==typeof t)for(r in t)a.call(t,r)&&(o=t[r],e+=""===e?"?"+r+"="+o:"&"+r+"="+o);return e},t.prototype._getUrlPara=function(t){var e,r,o,n,s,i;if(n=window.location.search,-1===n.indexOf("?"))return void 0;for(o=n.split("?")[1].split("&"),s=0,i=o.length;i>s;s++)return e=o[s],r=e.split("="),r[0]===t?r[1]:void 0},t.prototype._ajaxOpts={type:"GET",url:"",data:{},dataType:"text",charset:"UTF-8",enctype:"application/x-www-form-urlencoded"},t.prototype._get=function(t,e){return e.data.access_token&&!t.match(/^https/)&&(t=t.replace(/^http\:\/\//,"https://")),e.type="GET",e.url=t,e.data=e.data||{},this._ajax(e)},t.prototype._delete=function(t,e){return e.type="POST",e.url=t,e.data=e.data||{},e.data._method="delete",this._ajax(e)},t.prototype._post=function(t,e){return e.type="POST",e.url=t,e.data=e.data||{},this._ajax(e)},t.prototype._upload=function(){return this},t.prototype._ajax=function(t){var e,r,o,n;switch(t=this._extends(this._ajaxOpts,t),n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),t.type){case"GET":case"DELETE":t.url+=this._serialize(t.data),o="";break;case"POST":case"PUT":o=this._serialize(t.data).substr(1);break;case"UPLOAD":break;default:o=""}return e=t.done||t.success||function(){},r=t.fail||t.error||function(){},n.open(t.type,t.url,!0),n.setRequestHeader("Content-Type",""+t.enctype+"; charset="+t.charset),n.onload=function(){var o;if(n.status>=200&&n.status<400){if(o=n.responseText,"json"===t.dataType&&(o=JSON.parse(o)),"function"==typeof e)return e(o)}else if(o=n.responseText,"function"==typeof r)return r(o)},n.send(o),n},t}(),r=function(){function t(){}return t.prototype._procStop=!1,t.prototype._log=function(t){return console.log("Pixnet Log: ",t)},t.prototype._error=function(t,e){return console.error("Pixnet Error: ",t),this._procStop=!e},t}(),s=["included","extended"],n=function(){function t(){}return t.include=function(t){var e,r,o,n;if(!t)throw"include(obj) requires obj";n=t.prototype;for(r in n)o=n[r],c.call(s,r)<0&&(this.prototype[r]=o);return e=t.included,e&&e.apply(this),this},t}(),t=function(t){function o(){return o.__super__.constructor.apply(this,arguments)}return p(o,t),o.include(r),o.include(e),o}(n),o=function(t){function e(){return this.apiInvalidGrantFunc=i(this.apiInvalidGrantFunc,this),this.refreshToken=i(this.refreshToken,this),this.requestTokens=i(this.requestTokens,this),this.logout=i(this.logout,this),this.login=i(this.login,this),this.setCode=i(this.setCode,this),this.setTokens=i(this.setTokens,this),this.setKey=i(this.setKey,this),this.setSceret=i(this.setSceret,this),this.getData=i(this.getData,this),this.isLogin=i(this.isLogin,this),e.__super__.constructor.apply(this,arguments)}return p(e,t),e.prototype.data={app:{code:"",consumerKey:"",consumerSecret:"",callbackUrl:"",accessToken:"",refreshToken:"",isLogin:!1,loginOpts:{type:"onepage",popwin:void 0}}},e.prototype.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)?!0:!1},e.prototype.isLogin=function(){return this.data.app.isLogin},e.prototype.getData=function(t){return t?this.data.app[t]:this.data.app},e.prototype.setSceret=function(t){return this.data.app.consumerSecret=t,this},e.prototype.setKey=function(t){return this.data.app.consumerKey=t,this},e.prototype.setTokens=function(t,e){return this.data.app.accessToken=t,this.data.app.refreshToken=e,localStorage.accessToken=t,localStorage.refreshToken=e,this},e.prototype.setCode=function(t){return this.data.app.code=t,localStorage.code=t,this},e.prototype.init=function(t){var e;return e=function(t){return!((null!=t?!t.match(/[a-z0-9]{32}/):!0)||32!==t.length)},t.consumerKey&&(this.data.app.consumerKey=t.consumerKey),t.consumerSecret&&(this.data.app.consumerSecret=t.consumerSecret),t.callbackUrl&&(this.data.app.callbackUrl=t.callbackUrl),e(this.data.app.consumerKey)||this._error("consumerKey format is wrong"),e(this.data.app.consumerSecret)||this._error("consumerSecret format is wrong"),this._procStop?void 0:(t.login===!0&&this.login(t.loginCallback,this.data.app.loginOpts),this)},e.prototype.login=function(t,e){var r,o,n;if(e=e||{},localStorage.refreshToken)this.setCode(localStorage.code),this.setTokens(localStorage.accessToken,localStorage.refreshToken),this.data.app.isLogin=!0,t&&this.refreshToken.call(this,t,this.data.app);else{if(e=this._extends(this.data.app.loginOpts,e),r=e.callbackUrl||this.data.app.callbackUrl,o=this.data.app.consumerKey,r||this._error("callbackUrl is not defined"),o||this._error("consumerKey is not defined"),this._procStop)return;if(this._getUrlPara("code")&&"custom"!==e.type)this.setCode(this._getUrlPara("code")),e.onGetCode&&e.onGetCode.call(this,this.data.app),this.requestTokens(t,this.data.app);else switch(n="https://emma.pixnet.cc/oauth2/authorize?redirect_uri="+r+"&client_id="+o+"&response_type=code",e.type){case"custom":e.custom||this._error("You must set a custom function for getting code from oauth2"),e.custom.apply(this,arguments);break;case"popwin":this.data.app.loginOpts.popwin=window.open(n,"getCodeWindow");break;default:location.href=n}}return this},e.prototype.logout=function(t){return this.setCode(""),this.setTokens("",""),this.data.app.isLogin=!1,t&&t(),this},e.prototype.requestTokens=function(t,e){return e=this._extends(this.data.app,e),e.consumerSecret||this._error("consumerSecret is not defined"),this._get("https://emma.pixnet.cc/oauth2/grant",{data:{redirect_uri:e.callbackUrl,client_id:e.consumerKey,client_secret:e.consumerSecret,code:e.code,grant_type:"authorization_code"},done:function(e){return function(r){var o;return o=JSON.parse(r),e.setTokens(o.access_token,o.refresh_token),e.data.app.isLogin=!0,t?t.call(e,o):void 0}}(this),fail:function(e){return function(r){var o;return o=JSON.parse(r),e._error(o),"invalid_grant"===o.error&&(e.setCode(""),e._error(o)),t?t.call(e,o):void 0}}(this)})},e.prototype.refreshToken=function(t){var e;return e=this._extends(this.data.app,{}),e.consumerSecret||this._error("consumerSecret is not defined"),this._get("https://emma.pixnet.cc/oauth2/grant",{data:{refresh_token:e.refreshToken,client_id:e.consumerKey,client_secret:e.consumerSecret,grant_type:"refresh_token"},done:function(e){return function(r){var o;return o=JSON.parse(r),e.setTokens(o.access_token,o.refresh_token),t&&t.call(e,o),e.data.app.isLogin=!0}}(this),fail:function(e){return function(r){var o;return o=JSON.parse(r),t?t.call(e,o):void 0}}(this)})},e.prototype.apiInvalidGrantFunc=function(t,e){var r;return r=JSON.parse(e),"invalid_grant"===r.error?this.refreshToken(t):void 0},e}(t),window.pixnet=new o}).call(this);
(function(){var t;t=function(){function t(){}return t.prototype.getAlbumMain=function(t,e){var n,i;return pixnet.isLogin?(i={access_token:pixnet.getData("accessToken")},i=pixnet._extends(i,e),n=arguments,pixnet._get("https://emma.pixnet.cc/album/main",{data:i,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.getAlbumMain.apply(t,n)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getAlbumSetfolders=function(t,e,n){var i,r;return pixnet.isLogin?(r={user:e,access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._get("https://emma.pixnet.cc/album/setfolders",{data:r,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.getAlbumSets.apply(t,i)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.sortSetFolders=function(t,e,n){var i,r;return pixnet.isLogin?(r={ids:e,access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._post("https://emma.pixnet.cc/album/setfolders/position",{data:r,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.sortSetFolders.apply(t,i)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getAlbumSets=function(t,e,n){var i;return i={user:e},i=pixnet._extends(i,n),pixnet._get("http://emma.pixnet.cc/album/sets",pixnet._defaultXHROptions(i,t)),this},t.prototype.getAlbumSet=function(t,e,n,i){var r;return r={user:n},r=pixnet._extends(r,i),pixnet._get("http://emma.pixnet.cc/album/sets/"+e,pixnet._defaultXHROptions(r,t)),this},t.prototype.getAlbumSetElements=function(t,e,n,i){var r;return r={user:n},r=pixnet._extends(r,i),pixnet._get("http://emma.pixnet.cc/album/sets/"+e,pixnet._defaultXHROptions(r,t)),this},t.prototype.getAlbumSetComments=function(t,e,n){var i;return i={user:e},i=pixnet._extends(i,n),pixnet._get("http://emma.pixnet.cc/album/set_comments",pixnet._defaultXHROptions(i,t)),this},t.prototype.createAlbumSet=function(t,e,n,i){var r,o;return pixnet.isLogin?(o={title:e,description:n,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._post("https://emma.pixnet.cc/album/sets",{data:o,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.createAlbumSet.apply(t,r)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.updateAlbumSet=function(t,e,n,i,r){var o,a;return pixnet.isLogin?(a={title:n,description:i,access_token:pixnet.getData("accessToken")},a=pixnet._extends(a,r),o=arguments,pixnet._post("https://emma.pixnet.cc/album/sets/"+e,{data:a,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.updateAlbumSet.apply(t,o)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.deleteAlbumSet=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._delete("https://emma.pixnet.cc/album/sets/"+e,{data:r,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.deleteAlbumSet.apply(t,i)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.sortAlbumSets=function(t,e,n,i){var r,o;return pixnet.isLogin?(o={parent_id:e,ids:n,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._post("https://emma.pixnet.cc/album/sets/position",{data:o,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.sortAlbumSets.apply(t,r)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getAlbumSetsNear=function(t,e,n,i,r){var o;return o={user:e,lat:n,lon:i},o=pixnet._extends(o,r),pixnet._get("http://emma.pixnet.cc/album/sets/nearby",pixnet._defaultXHROptions(o,t)),this},t.prototype.getAlbumFolders=function(t,e,n){var i;return i={user:e},i=pixnet._extends(i,n),pixnet._get("http://emma.pixnet.cc/album/folders",pixnet._defaultXHROptions(i,t)),this},t.prototype.getAlbumFolder=function(t,e,n,i){var r;return r={user:n},r=pixnet._extends(r,i),pixnet._get("http://emma.pixnet.cc/album/folders/"+e,pixnet._defaultXHROptions(r,t)),this},t.prototype.getAlbumFolderSets=function(t,e,n,i){var r;return r={user:n},r=pixnet._extends(r,i),pixnet._get("http://emma.pixnet.cc/album/folders/"+e+"/sets",pixnet._defaultXHROptions(r,t)),this},t.prototype.createAlbumFolder=function(t,e,n,i){var r,o;return pixnet.isLogin?(o={title:e,description:n,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._post("https://emma.pixnet.cc/album/folders",{data:o,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.createAlbumFolder.apply(t,r)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.updateAlbumFolder=function(t,e,n,i,r){var o,a;return pixnet.isLogin?(a={title:n,description:i,access_token:pixnet.getData("accessToken")},a=pixnet._extends(a,r),o=arguments,pixnet._post("https://emma.pixnet.cc/album/folders/"+e,{data:a,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.updateAlbumFolder.apply(t,o)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.deleteAlbumFolder=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._delete("https://emma.pixnet.cc/album/folders/"+e,{data:r,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.deleteAlbumFolder.apply(t,i)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getAlbumElements=function(t,e,n,i){var r;return r={user:n,set_id:e},r=pixnet._extends(r,i),pixnet._get("http://emma.pixnet.cc/album/elements",pixnet._defaultXHROptions(r,t)),this},t.prototype.getElement=function(t,e,n,i){var r,o;return pixnet.isLogin?(o={user:n,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._get("https://emma.pixnet.cc/album/elements/"+e,{data:o,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.getElement.apply(t,r)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getElementComments=function(t,e,n,i){var r;return r={user:n},r=pixnet._extends(r,i),pixnet._get("http://emma.pixnet.cc/album/elements/"+e+"/comments",pixnet._defaultXHROptions(r,t)),this},t.prototype.createElement=function(t,e,n,i){var r,o;return pixnet.isLogin?(o={set_id:e,upload_file:n,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._upload("https://emma.pixnet.cc/album/elements",{data:o,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.createElement.apply(t,r)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.updateElement=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._post("https://emma.pixnet.cc/album/elements/"+e,{data:r,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.updateElement.apply(t,i)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.deleteElement=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._delete("https://emma.pixnet.cc/album/elements/"+e,{data:r,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.deleteElementt.apply(t,i)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.sortElement=function(t,e,n,i){var r,o;return pixnet.isLogin?(o={set_id:e,ids:n,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._post("https://emma.pixnet.cc/album/elements/position",{data:o,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.sortElement.apply(t,r)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getElementCommentsNear=function(t,e,n,i,r){var o;return o={user:e,lat:n,lon:i},o=pixnet._extends(o,r),pixnet._get("http://emma.pixnet.cc/album/elements/nearby",pixnet._defaultXHROptions(o,t)),this},t.prototype.getSetComments=function(t,e,n){var i;return i={user:e},i=pixnet._extends(i,n),pixnet._get("http://emma.pixnet.cc/album/set_comments",pixnet._defaultXHROptions(i,t)),this},t.prototype.getSetComment=function(t,e,n,i){var r;return r={user:n},r=pixnet._extends(r,i),pixnet._get("http://emma.pixnet.cc/album/set_comments/"+e,pixnet._defaultXHROptions(r,t)),this},t.prototype.createSetComment=function(t,e,n,i,r){var o,a;return pixnet.isLogin?(a={set_id:e,user:n,body:i,access_token:pixnet.getData("accessToken")},a=pixnet._extends(a,r),o=arguments,pixnet._post("https://emma.pixnet.cc/album/set_comments",{data:a,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.createSetComments.apply(t,o)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.markSetCommentSpam=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._post("https://emma.pixnet.cc/album/set_comments/"+e+"/mark_spam",{data:r,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.markCommentSpam.apply(t,i)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.markSetCommentHam=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._post("https://emma.pixnet.cc/album/set_comments/"+e+"/mark_ham",{data:r,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.markCommentSpam.apply(t,i)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.deleteSetComment=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._delete("https://emma.pixnet.cc/album/set_comments/"+e,{data:r,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.deleteSetComment.apply(t,i)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getComments=function(t,e,n){var i;return i={user:e},i=pixnet._extends(i,n),pixnet._get("http://emma.pixnet.cc/album/comments",pixnet._defaultXHROptions(i,t)),this},t.prototype.getComment=function(t,e,n,i){var r;return r={user:n},r=pixnet._extends(r,i),pixnet._get("http://emma.pixnet.cc/album/comments/"+e,pixnet._defaultXHROptions(r,t)),this},t.prototype.createElementComment=function(t,e,n,i,r){var o,a;return pixnet.isLogin?(a={element_id:e,user:n,body:i,access_token:pixnet.getData("accessToken")},a=pixnet._extends(a,r),o=arguments,pixnet._post("https://emma.pixnet.cc/album/comments",{data:a,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.createElementComments.apply(t,o)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.markElementCommentSpam=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._post("https://emma.pixnet.cc/album/comments/"+e+"/mark_spam",{data:r,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.markElementCommentSpam.apply(t,i)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.markElementCommentHam=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._post("https://emma.pixnet.cc/album/comments/"+e+"/mark_ham",{data:r,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.markElementCommentSpam.apply(t,i)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.deleteElementComment=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._delete("https://emma.pixnet.cc/album/comments/"+e,{data:r,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.deleteElementComment.apply(t,i)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.createFace=function(t,e,n,i,r,o,a,p){var s,u;return pixnet.isLogin?(u={user:e,element_id:n,x:i,y:r,w:o,h:a,access_token:pixnet.getData("accessToken")},u=pixnet._extends(u,p),s=arguments,pixnet._post("https://emma.pixnet.cc/album/faces",{data:u,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.createFace.apply(t,s)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.updateFace=function(t,e,n,i,r,o,a,p,s){var u,c;return pixnet.isLogin?(c={user:n,element_id:i,x:r,y:o,w:a,h:p,access_token:pixnet.getData("accessToken")},c=pixnet._extends(c,s),u=arguments,pixnet._post("https://emma.pixnet.cc/album/faces/"+e,{data:c,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.updateFace.apply(t,u)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.deleteFace=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._delete("https://emma.pixnet.cc/album/faces/"+e,{data:r,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.deleteFace.apply(t,i)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getConfig=function(t,e){var n,i;return pixnet.isLogin?(i={access_token:pixnet.getData("accessToken")},i=pixnet._extends(i,e),n=arguments,pixnet._get("https://emma.pixnet.cc/album/config",{data:i,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.getConfig.apply(t,n)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getSiteCategories=function(t,e){var n;return n={},n=pixnet._extends(n,e),pixnet._get("http://emma.pixnet.cc/album/site_categories",pixnet._defaultXHROptions(n,t)),this},t}(),pixnet.album=new t}).call(this);
(function(){var t;t=function(){function t(){}return t.prototype.getBlock=function(t,n){var e,i;return pixnet.isLogin?(i={access_token:pixnet.getData("accessToken")},i=pixnet._extends(i,n),e=arguments,pixnet._get("https://emma.pixnet.cc/blocks",{data:i,done:function(){return function(n){return t?t(JSON.parse(n)):void 0}}(this),fail:function(t){return function(n){return pixnet.apiInvalidGrantFunc(function(){return t.getBlock.apply(t,e)},n)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.createBlock=function(t,n,e){var i,r;return pixnet.isLogin?(r={user:n,access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._post("https://emma.pixnet.cc/blocks/create",{data:r,done:function(){return function(n){return t?t(JSON.parse(n)):void 0}}(this),fail:function(t){return function(n){return pixnet.apiInvalidGrantFunc(function(){return t.createBlock.apply(t,i)},n)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.deleteBlock=function(t,n,e){var i,r;return pixnet.isLogin?(r={user:n,access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._delete("https://emma.pixnet.cc/blocks/delete",{data:r,done:function(){return function(n){return t?t(JSON.parse(n)):void 0}}(this),fail:function(t){return function(n){return pixnet.apiInvalidGrantFunc(function(){return t.deleteBlock.apply(t,i)},n)}}(this)}),this):(pixnet._error("Need login"),this)},t}(),pixnet.block=new t}).call(this);
(function(){var t;t=function(){function t(){}return t.prototype.getInfo=function(t,e,n){var i;return i={user:e},i=pixnet._extends(i,n),pixnet._get("https://emma.pixnet.cc/blog",pixnet._defaultXHROptions(i,t)),this},t.prototype.getCategories=function(t,e,n){var i;return i={user:e},i=pixnet._extends(i,n),pixnet._get("https://emma.pixnet.cc/blog/categories",pixnet._defaultXHROptions(i,t)),this},t.prototype.createCategories=function(t,e,n){var i,r;return pixnet.isLogin?(r={name:e,access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._post("https://emma.pixnet.cc/blog/categories",{data:r,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.createBlogCategories.apply(t,i)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.updateCategories=function(t,e,n,i){var r,o;return pixnet.isLogin?(o={name:n,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._post("https://emma.pixnet.cc/blog/categories/"+e,{data:o,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.updateCategories.apply(t,r)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.deleteCategories=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._delete("https://emma.pixnet.cc/blog/categories/"+e,{data:r,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.deleteBlogCategories.apply(t,i)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.sortCategoriesTo=function(t,e,n){var i,r;return pixnet.isLogin?("string"!=typeof e&&(e=e.toString()),r={ids:e,access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._post("https://emma.pixnet.cc/blog/categories/position",{data:r,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.sortCategoriesTo.apply(t,i)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getAllArticles=function(t,e,n){var i;return i={user:e},i=pixnet._extends(i,n),pixnet._get("https://emma.pixnet.cc/blog/articles",pixnet._defaultXHROptions(i,t)),this},t.prototype.getArticle=function(t,e,n,i){var r;return r={user:n},r=pixnet._extends(r,i),pixnet._get("https://emma.pixnet.cc/blog/articles/"+e,pixnet._defaultXHROptions(r,t)),this},t.prototype.getRelatedArticle=function(t,e,n,i){var r;return r={user:n},r=pixnet._extends(r,i),pixnet._get("https://emma.pixnet.cc/blog/articles/"+e+"/related",pixnet._defaultXHROptions(r,t)),this},t.prototype.createArticle=function(t,e,n,i){var r,o;return pixnet.isLogin?(o={title:e,body:n,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._post("https://emma.pixnet.cc/blog/articles",{data:o,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.createArticle.apply(t,r)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.updateArticle=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._post("https://emma.pixnet.cc/blog/articles/"+e,{data:r,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.updateArticle.apply(t,i)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.deleteArticle=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._delete("https://emma.pixnet.cc/blog/articles/"+e,{data:r,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.deleteArticle.apply(t,i)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getLatestArticle=function(t,e,n){var i;return i={user:e},i=pixnet._extends(i,n),pixnet._get("https://emma.pixnet.cc/blog/articles/latest",pixnet._defaultXHROptions(i,t)),this},t.prototype.getHotArticle=function(t,e,n){var i;return i={user:e},i=pixnet._extends(i,n),pixnet._get("https://emma.pixnet.cc/blog/articles/hot",pixnet._defaultXHROptions(i,t)),this},t.prototype.searchArticle=function(t,e,n,i){var r;return r={key:e,user:n},r=pixnet._extends(r,i),pixnet._get("https://emma.pixnet.cc/blog/articles/search",pixnet._defaultXHROptions(r,t)),this},t.prototype.getComments=function(t,e,n,i){var r;return r={user:n,article_id:e},r=pixnet._extends(r,i),pixnet._get("https://emma.pixnet.cc/blog/comments",pixnet._defaultXHROptions(r,t)),this},t.prototype.createComment=function(t,e,n,i,r){var o,p;return pixnet.isLogin?(p={article_id:e,body:n,user:i,access_token:pixnet.getData("accessToken")},p=pixnet._extends(p,r),o=arguments,pixnet._post("https://emma.pixnet.cc/blog/comments",{data:p,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.createComment.apply(t,o)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getSingleComment=function(t,e,n,i){var r;return r={user:n},r=pixnet._extends(r,i),pixnet._get("https://emma.pixnet.cc/blog/comments/"+e,pixnet._defaultXHROptions(r,t)),this},t.prototype.replyComment=function(t,e,n,i){var r,o;return pixnet.isLogin?(o={body:n,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._post("https://emma.pixnet.cc/blog/comments/"+e+"/reply",{data:o,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.replyComment.apply(t,r)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.setCommentOpen=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._post("https://emma.pixnet.cc/blog/comments/"+e+"/open",{data:r,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.setCommentOpen.apply(t,i)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.setCommentClose=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._post("https://emma.pixnet.cc/blog/comments/"+e+"/close",{data:r,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.setCommentClose.apply(t,i)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.markCommentSpam=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._post("https://emma.pixnet.cc/blog/comments/"+e+"/mark_spam",{data:r,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.markCommentSpam.apply(t,i)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.markCommentHam=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._post("https://emma.pixnet.cc/blog/comments/"+e+"/mark_ham",{data:r,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.markCommentSpam.apply(t,i)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.deleteComment=function(t,e,n){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,n),i=arguments,pixnet._delete("https://emma.pixnet.cc/blog/comments/"+e,{data:r,done:function(){return function(e){return t?t(JSON.parse(e)):void 0}}(this),fail:function(t){return function(e){return pixnet.apiInvalidGrantFunc(function(){return t.deleteComment.apply(t,i)},e)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getLatestComment=function(t,e,n){var i;return i={user:e},i=pixnet._extends(i,n),pixnet._get("https://emma.pixnet.cc/blog/comments/latest",pixnet._defaultXHROptions(i,t)),this},t.prototype.getSiteCategories=function(t,e){var n;return n={},n=pixnet._extends(n,e),pixnet._get("https://emma.pixnet.cc/blog/site_categories",pixnet._defaultXHROptions(n,t)),this},t}(),pixnet.blog=new t}).call(this);
(function(){var n;n=function(){function n(){}return n.prototype.getGroups=function(n,t){var e,i;return pixnet.isLogin?(i={access_token:pixnet.getData("accessToken")},i=pixnet._extends(i,t),e=arguments,pixnet._get("https://emma.pixnet.cc/friend/groups",{data:i,done:function(){return function(t){return n?n(JSON.parse(t)):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.getGroups.apply(n,e)},t)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.createGroup=function(n,t,e){var i,r;return pixnet.isLogin?(r={name:t,access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._post("https://emma.pixnet.cc/friend/groups",{data:r,done:function(){return function(t){return n?n(JSON.parse(t)):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.createGroup.apply(n,i)},t)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.updateGroup=function(n,t,e,i){var r,o;return pixnet.isLogin?(o={name:e,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._post("https://emma.pixnet.cc/friend/groups/"+t,{data:o,done:function(){return function(t){return n?n(JSON.parse(t)):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.updateGroup.apply(n,r)},t)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.deleteGroup=function(n,t,e){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._delete("https://emma.pixnet.cc/friend/groups/"+t,{data:r,done:function(){return function(t){return n?n(JSON.parse(t)):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.deleteGroup.apply(n,i)},t)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.getNews=function(n,t){var e,i;return pixnet.isLogin?(i={access_token:pixnet.getData("accessToken")},i=pixnet._extends(i,t),e=arguments,pixnet._get("https://emma.pixnet.cc/friend/news",{data:i,done:function(){return function(t){return n?n(JSON.parse(t)):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.getNews.apply(n,e)},t)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.getSubscriptions=function(n,t){var e,i;return pixnet.isLogin?(i={access_token:pixnet.getData("accessToken")},i=pixnet._extends(i,t),e=arguments,pixnet._get("https://emma.pixnet.cc/friend/subscriptions",{data:i,done:function(){return function(t){return n?n(JSON.parse(t)):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.getSubscriptions.apply(n,e)},t)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.createSubscription=function(n,t,e){var i,r;return pixnet.isLogin?(r={user:t,access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._post("https://emma.pixnet.cc/friend/subscriptions",{data:r,done:function(){return function(t){return n?n(JSON.parse(t)):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.createSubscription.apply(n,i)},t)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.joinSubscriptionGroup=function(n,t,e,i){var r,o;return pixnet.isLogin?(pixnet.isArray(e)&&(e=e.toString()),o={group_ids:e,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._post("https://emma.pixnet.cc/friend/subscriptions/"+t+"/join_subscription_group",{data:o,done:function(){return function(t){return n?n(JSON.parse(t)):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.joinSubscriptionGroup.apply(n,r)},t)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.leaveSubscriptionGroup=function(n,t,e,i){var r,o;return pixnet.isLogin?(o={group_ids:e,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._post("https://emma.pixnet.cc/friend/subscriptions/"+t+"/leave_subscription_group",{data:o,done:function(){return function(t){return n?n(JSON.parse(t)):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.leaveSubscriptionGroup.apply(n,r)},t)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.deleteSubscription=function(n,t,e){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._delete("https://emma.pixnet.cc/friend/subscriptions/"+t,{data:r,done:function(){return function(t){return n?n(JSON.parse(t)):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.leaveSubscriptionGroup.apply(n,i)},t)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.getSubscriptionGroup=function(n,t){var e,i;return pixnet.isLogin?(i={access_token:pixnet.getData("accessToken")},i=pixnet._extends(i,t),e=arguments,pixnet._get("https://emma.pixnet.cc/friend/subscription_groups",{data:i,done:function(){return function(t){return n?n(JSON.parse(t)):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.getSubscriptionGroup.apply(n,e)},t)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.createSubscriptionGroup=function(n,t,e){var i,r;return pixnet.isLogin?(r={name:t,access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._post("https://emma.pixnet.cc/friend/subscription_groups",{data:r,done:function(){return function(t){return n?n(JSON.parse(t)):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.createSubscriptionGroup.apply(n,i)},t)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.updateSubscriptionGroup=function(n,t,e,i){var r,o;return pixnet.isLogin?(o={name:e,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._post("https://emma.pixnet.cc/friend/subscription_groups/"+t,{data:o,done:function(){return function(t){return n?n(JSON.parse(t)):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.updateSubscriptionGroup.apply(n,r)},t)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.deleteSubscriptionGroup=function(n,t,e){var i,r;return pixnet.isLogin?(r={name:name,access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._delete("https://emma.pixnet.cc/friend/subscription_groups/"+t,{data:r,done:function(){return function(t){return n?n(JSON.parse(t)):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.deleteSubscriptionGroup.apply(n,i)},t)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.sortSubscriptionGroupTo=function(n,t,e){var i,r;return pixnet.isLogin?(r={ids:t,access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._post("https://emma.pixnet.cc/friend/subscription_groups/position",{data:r,done:function(){return function(t){return n?n(JSON.parse(t)):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.sortSubscriptionGroupTo.apply(n,i)},t)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.getFriendships=function(n,t){var e,i;return pixnet.isLogin?(i={access_token:pixnet.getData("accessToken")},i=pixnet._extends(i,t),e=arguments,pixnet._get("https://emma.pixnet.cc/friendships",{data:i,done:function(){return function(t){return n?n(JSON.parse(t)):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.getFriendships.apply(n,e)},t)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.createFriendship=function(n,t,e){var i,r;return pixnet.isLogin?(r={user_name:t,access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._post("https://emma.pixnet.cc/friendships",{data:r,done:function(){return function(t){return n?n(JSON.parse(t)):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.createFriendship.apply(n,i)},t)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.deleteFriendship=function(n,t,e){var i,r;return pixnet.isLogin?(r={user_name:t,access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._delete("https://emma.pixnet.cc/friendships/delete",{data:r,done:function(){return function(t){return n?n(JSON.parse(t)):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.deleteFriendship.apply(n,i)},t)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.appendFriendshipGroup=function(n,t,e,i){var r,o;return pixnet.isLogin?(o={user_name:t,group_id:e,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._post("https://emma.pixnet.cc/friendships/append_group",{data:o,done:function(){return function(t){return n?n(JSON.parse(t)):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.appendFriendshipGroup.apply(n,r)},t)}}(this)}),this):(pixnet._error("Need login"),this)},n.prototype.removeFriendshipGroup=function(n,t,e,i){var r,o;return pixnet.isLogin?(o={user_name:t,group_id:e,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._post("https://emma.pixnet.cc/friendships/remove_group",{data:o,done:function(){return function(t){return n?n(JSON.parse(t)):void 0}}(this),fail:function(n){return function(t){return pixnet.apiInvalidGrantFunc(function(){return n.removeFriendshipGroup.apply(n,r)},t)}}(this)}),this):(pixnet._error("Need login"),this)},n}(),pixnet.friend=new n}).call(this);
(function(){var t;t=function(){function t(){}return t.prototype.getAll=function(t,n,e){var i;return i={user:n},i=pixnet._extends(i,e),pixnet._get("https://emma.pixnet.cc/guestbook",pixnet._defaultXHROptions(i,t)),this},t.prototype.create=function(t,n,e,i){var r,o;return pixnet.isLogin?(o={user:n,body:e,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._post("https://emma.pixnet.cc/guestbook",{data:o,done:function(){return function(n){return t?t(JSON.parse(n)):void 0}}(this),fail:function(t){return function(n){return pixnet.apiInvalidGrantFunc(function(){return t.createGuestbook.apply(t,r)},n)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getOne=function(t,n,e,i){var r;return r={user:e},r=pixnet._extends(r,i),pixnet._get("https://emma.pixnet.cc/guestbook/"+n,pixnet._defaultXHROptions(r,t)),this},t.prototype.reply=function(t,n,e,i){var r,o;return pixnet.isLogin?(o={reply:e,access_token:pixnet.getData("accessToken")},o=pixnet._extends(o,i),r=arguments,pixnet._post("https://emma.pixnet.cc/guestbook/"+n+"/reply",{data:o,done:function(){return function(n){return t?t(JSON.parse(n)):void 0}}(this),fail:function(t){return function(n){return pixnet.apiInvalidGrantFunc(function(){return t.replyGuestbook.apply(t,r)},n)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.setOpen=function(t,n,e){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._post("https://emma.pixnet.cc/guestbook/"+n+"/open",{data:r,done:function(){return function(n){return t?t(JSON.parse(n)):void 0}}(this),fail:function(t){return function(n){return pixnet.apiInvalidGrantFunc(function(){return t.setOpen.apply(t,i)},n)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.setClose=function(t,n,e){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._post("https://emma.pixnet.cc/guestbook/"+n+"/close",{data:r,done:function(){return function(n){return t?t(JSON.parse(n)):void 0}}(this),fail:function(t){return function(n){return pixnet.apiInvalidGrantFunc(function(){return t.setClose.apply(t,i)},n)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.markSpam=function(t,n,e){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._post("https://emma.pixnet.cc/guestbook/"+n+"/mark_spam",{data:r,done:function(){return function(n){return t?t(JSON.parse(n)):void 0}}(this),fail:function(t){return function(n){return pixnet.apiInvalidGrantFunc(function(){return t.setClose.apply(t,i)},n)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.markHam=function(t,n,e){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._post("https://emma.pixnet.cc/guestbook/"+n+"/mark_ham",{data:r,done:function(){return function(n){return t?t(JSON.parse(n)):void 0}}(this),fail:function(t){return function(n){return pixnet.apiInvalidGrantFunc(function(){return t.setClose.apply(t,i)},n)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype["delete"]=function(t,n,e){var i,r;return pixnet.isLogin?(r={access_token:pixnet.getData("accessToken")},r=pixnet._extends(r,e),i=arguments,pixnet._delete("https://emma.pixnet.cc/guestbook/"+n,{data:r,done:function(){return function(n){return t?t(JSON.parse(n)):void 0}}(this),fail:function(t){return function(n){return pixnet.apiInvalidGrantFunc(function(){return t.setClose.apply(t,i)},n)}}(this)}),this):(pixnet._error("Need login"),this)},t}(),pixnet.guestbook=new t}).call(this);
(function(){var t;t=function(){function t(){}return t.prototype.rate=function(t,e){var n;return n={},pixnet.isLogin&&(n={access_token:pixnet.getData("accessToken")}),n=pixnet._extends(n,e),pixnet._get("https://emma.pixnet.cc/index/rate",pixnet._defaultXHROptions(n,t)),this},t.prototype.now=function(t,e){var n;return n={},pixnet.isLogin&&(n={access_token:pixnet.getData("accessToken")}),n=pixnet._extends(n,e),pixnet._get("https://emma.pixnet.cc/index/now",pixnet._defaultXHROptions(n,t)),this},t}(),pixnet.index=new t}).call(this);
(function(){var t;t=function(){function t(){}return t.prototype.getBlogColumns=function(t,e){var n,i;return n=(null!=e?e.categoryId:void 0)?"/"+e.categoryId:"",i={},i=pixnet._extends(i,e),pixnet._get("https://emma.pixnet.cc/mainpage/blog/columns"+n,pixnet._defaultXHROptions(i,t)),this},t.prototype.getBlogColumnsCategories=function(t,e){var n;return n={},n=pixnet._extends(n,e),pixnet._get("https://emma.pixnet.cc/mainpage/blog/columns/categories",pixnet._defaultXHROptions(n,t)),this},t.prototype.getAlbumColumns=function(t,e){var n;return n={},n=pixnet._extends(n,e),pixnet._get("https://emma.pixnet.cc/mainpage/album/columns",pixnet._defaultXHROptions(n,t)),this},t.prototype.getArticlesByCategory=function(t,e,n,i){var p;return p={},p=pixnet._extends(p,i),pixnet._get("https://emma.pixnet.cc/mainpage/blog/categories/"+e+"/"+n,pixnet._defaultXHROptions(p,t)),this},t.prototype.getAlbumsByCategory=function(t,e,n,i){var p;return p={},p=pixnet._extends(p,i),pixnet._get("https://emma.pixnet.cc/mainpage/album/categories/"+e+"/"+n,pixnet._defaultXHROptions(p,t)),this},t.prototype.getVideos=function(t,e,n,i){var p;return p={},p=pixnet._extends(p,i),pixnet._get("https://emma.pixnet.cc/mainpage/album/video/"+e,pixnet._defaultXHROptions(p,t)),this},t}(),pixnet.mainpage=new t}).call(this);
(function(){var t;t=function(){function t(){}return t.prototype.getAccount=function(t,n){var e,i;return pixnet.isLogin?(i={access_token:pixnet.getData("accessToken")},i=pixnet._extends(i,n),e=arguments,pixnet._get("https://emma.pixnet.cc/account",{data:i,done:function(){return function(n){return t?t(JSON.parse(n)):void 0}}(this),fail:function(t){return function(n){return pixnet.apiInvalidGrantFunc(function(){return t.getAccount.apply(t,e)},n)}}(this)}),this):(pixnet._error("Need login"),this)},t.prototype.getUser=function(t,n,e){var i;return i={},i=pixnet._extends(i,e),pixnet._get("https://emma.pixnet.cc/users/"+n,pixnet._defaultXHROptions(i,t)),this},t}(),pixnet.users=new t}).call(this);